---
phase: 06-frontend-public-pages
plan: 04
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - frontend/src/app/pricing/page.tsx
  - frontend/src/app/research/page.tsx
  - frontend/src/components/shared/ResearchCard.tsx
autonomous: true

must_haves:
  truths:
    - "Pricing page displays membership price (Rp 2.500.000/tahun)"
    - "Pricing page lists all membership features"
    - "Pricing page has Product JSON-LD for structured search results"
    - "Research page fetches and displays research reports from API"
    - "Research page shows gated content indicator for member-only reports"
    - "Both pages have proper SEO metadata"
  artifacts:
    - path: "frontend/src/app/pricing/page.tsx"
      provides: "Pricing page with membership card"
      contains: "2500000"
      min_lines: 50
    - path: "frontend/src/app/research/page.tsx"
      provides: "Research preview page"
      min_lines: 40
    - path: "frontend/src/components/shared/ResearchCard.tsx"
      provides: "Reusable research report card"
      min_lines: 20
  key_links:
    - from: "frontend/src/app/pricing/page.tsx"
      to: "JSON-LD"
      via: "Product schema"
      pattern: "@type.*Product"
    - from: "frontend/src/app/research/page.tsx"
      to: "/research API"
      via: "fetchAPI call"
      pattern: "fetchAPI.*research"
---

<objective>
Build Pricing and Research Preview pages with payment CTA and gated content

Purpose: Pricing page drives conversions with clear value proposition. Research page showcases research quality while gating full content for members.
Output: Two fully functional pages with API integration, SEO metadata, and structured data.
</objective>

<execution_context>
@/Users/dio/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dio/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-frontend-public-pages/06-RESEARCH.md
@.planning/phases/06-frontend-public-pages/06-01-SUMMARY.md

# Backend API
GET /research returns { reports: ResearchReport[] }
ResearchReport has: id, title, slug, summary, requiredTier ('free' | 'member'), publishedAt

# Pricing
Membership price: IDR 2,500,000/year
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Pricing Page</name>
  <files>
    frontend/src/app/pricing/page.tsx
  </files>
  <action>
    Create frontend/src/app/pricing/page.tsx with membership pricing and Product JSON-LD:

    ```typescript
    import type { Metadata } from 'next'
    import Link from 'next/link'
    import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
    import { Button } from '@/components/ui/button'
    import { Badge } from '@/components/ui/badge'
    import { Check } from 'lucide-react'
    import { MEMBERSHIP_PRICE, MEMBERSHIP_PRICE_FORMATTED, SITE_URL } from '@/lib/constants'

    export const metadata: Metadata = {
      title: 'Pricing',
      description: `Membership StockUs mulai dari ${MEMBERSHIP_PRICE_FORMATTED}/tahun. Akses penuh ke kursus, research, dan komunitas.`,
      openGraph: {
        title: 'Pricing | StockUs',
        description: `Membership StockUs mulai dari ${MEMBERSHIP_PRICE_FORMATTED}/tahun.`,
      },
    }

    const features = [
      {
        category: 'Kursus',
        items: [
          '5-Day Fundamentals Course (cohort-based)',
          'Akses semua materi video',
          'Worksheet & exercise',
          'Sertifikat penyelesaian',
        ],
      },
      {
        category: 'Research',
        items: [
          'Akses semua research reports',
          'Analysis mendalam per perusahaan',
          'Quarterly updates',
          'Watchlist insights',
        ],
      },
      {
        category: 'Templates',
        items: [
          'Investment checklist (Excel)',
          'Valuation spreadsheet',
          'Portfolio tracker',
          'Note-taking templates (PDF)',
        ],
      },
      {
        category: 'Community',
        items: [
          'Premium Discord channels',
          'Diskusi dengan mentor',
          'Q&A bulanan',
          'Networking dengan investor lain',
        ],
      },
    ]

    const faqs = [
      {
        question: 'Apakah ada money-back guarantee?',
        answer: 'Ya, kami menawarkan refund 7 hari setelah pembelian jika Anda tidak puas dengan konten kami.',
      },
      {
        question: 'Bisa bayar dengan apa saja?',
        answer: 'Kami menerima transfer bank, kartu kredit/debit, dan e-wallet (GoPay, OVO, Dana) melalui Midtrans.',
      },
      {
        question: 'Berapa lama akses membership?',
        answer: 'Membership berlaku 1 tahun dari tanggal pembelian. Anda bisa memperpanjang sebelum expired.',
      },
    ]

    export default function PricingPage() {
      const jsonLd = {
        '@context': 'https://schema.org',
        '@type': 'Product',
        name: 'StockUs Annual Membership',
        description: 'Akses penuh ke kursus investasi, research, dan komunitas selama 1 tahun.',
        offers: {
          '@type': 'Offer',
          price: MEMBERSHIP_PRICE,
          priceCurrency: 'IDR',
          availability: 'https://schema.org/InStock',
          url: `${SITE_URL}/pricing`,
        },
      }

      return (
        <>
          <script
            type="application/ld+json"
            dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
          />

          {/* Hero Section */}
          <section className="bg-gradient-to-b from-slate-50 to-white px-4 py-16 md:px-6 md:py-24">
            <div className="mx-auto max-w-7xl text-center">
              <h1 className="text-3xl font-bold tracking-tight text-slate-900 md:text-4xl lg:text-5xl">
                Investasi untuk Masa Depan Anda
              </h1>
              <p className="mx-auto mt-4 max-w-2xl text-lg text-slate-600">
                Satu membership, akses lengkap ke semua resource untuk menjadi investor yang lebih baik.
              </p>
            </div>
          </section>

          {/* Pricing Card */}
          <section className="bg-white px-4 py-16 md:px-6 md:py-24">
            <div className="mx-auto max-w-lg">
              <Card className="border-2 border-primary">
                <CardHeader className="text-center">
                  <Badge className="mx-auto w-fit">Best Value</Badge>
                  <CardTitle className="mt-4 text-2xl">Annual Membership</CardTitle>
                  <div className="mt-4">
                    <span className="text-5xl font-bold text-slate-900">
                      {MEMBERSHIP_PRICE_FORMATTED}
                    </span>
                    <span className="text-slate-600">/tahun</span>
                  </div>
                  <p className="mt-2 text-sm text-slate-500">
                    Sekitar Rp {Math.round(MEMBERSHIP_PRICE / 12).toLocaleString('id-ID')}/bulan
                  </p>
                </CardHeader>
                <CardContent>
                  <Button className="w-full" size="lg" asChild>
                    <Link href="/signup">Daftar Sekarang</Link>
                  </Button>
                  <p className="mt-4 text-center text-sm text-slate-500">
                    7-day money-back guarantee
                  </p>
                </CardContent>
              </Card>
            </div>
          </section>

          {/* Features Section */}
          <section className="bg-slate-50 px-4 py-16 md:px-6 md:py-24">
            <div className="mx-auto max-w-7xl">
              <h2 className="text-center text-2xl font-bold text-slate-900 md:text-3xl">
                Apa yang Anda Dapatkan
              </h2>
              <div className="mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4">
                {features.map((feature) => (
                  <div key={feature.category}>
                    <h3 className="text-lg font-semibold text-slate-900">{feature.category}</h3>
                    <ul className="mt-4 space-y-3">
                      {feature.items.map((item) => (
                        <li key={item} className="flex items-start gap-2">
                          <Check className="mt-0.5 h-5 w-5 shrink-0 text-green-600" />
                          <span className="text-sm text-slate-600">{item}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                ))}
              </div>
            </div>
          </section>

          {/* Comparison Section */}
          <section className="bg-white px-4 py-16 md:px-6 md:py-24">
            <div className="mx-auto max-w-3xl">
              <h2 className="text-center text-2xl font-bold text-slate-900 md:text-3xl">
                Gratis vs Member
              </h2>
              <div className="mt-8 overflow-hidden rounded-lg border">
                <table className="w-full">
                  <thead className="bg-slate-50">
                    <tr>
                      <th className="px-4 py-3 text-left text-sm font-semibold text-slate-900">
                        Fitur
                      </th>
                      <th className="px-4 py-3 text-center text-sm font-semibold text-slate-900">
                        Gratis
                      </th>
                      <th className="px-4 py-3 text-center text-sm font-semibold text-slate-900">
                        Member
                      </th>
                    </tr>
                  </thead>
                  <tbody className="divide-y">
                    <tr>
                      <td className="px-4 py-3 text-sm text-slate-600">Preview kursus</td>
                      <td className="px-4 py-3 text-center"><Check className="mx-auto h-5 w-5 text-green-600" /></td>
                      <td className="px-4 py-3 text-center"><Check className="mx-auto h-5 w-5 text-green-600" /></td>
                    </tr>
                    <tr>
                      <td className="px-4 py-3 text-sm text-slate-600">Full course access</td>
                      <td className="px-4 py-3 text-center text-slate-400">-</td>
                      <td className="px-4 py-3 text-center"><Check className="mx-auto h-5 w-5 text-green-600" /></td>
                    </tr>
                    <tr>
                      <td className="px-4 py-3 text-sm text-slate-600">Research reports</td>
                      <td className="px-4 py-3 text-center text-sm text-slate-400">Preview only</td>
                      <td className="px-4 py-3 text-center"><Check className="mx-auto h-5 w-5 text-green-600" /></td>
                    </tr>
                    <tr>
                      <td className="px-4 py-3 text-sm text-slate-600">Templates</td>
                      <td className="px-4 py-3 text-center text-sm text-slate-400">Preview only</td>
                      <td className="px-4 py-3 text-center"><Check className="mx-auto h-5 w-5 text-green-600" /></td>
                    </tr>
                    <tr>
                      <td className="px-4 py-3 text-sm text-slate-600">Discord community</td>
                      <td className="px-4 py-3 text-center text-sm text-slate-400">Public channels</td>
                      <td className="px-4 py-3 text-center text-sm text-green-600">Full access</td>
                    </tr>
                    <tr>
                      <td className="px-4 py-3 text-sm text-slate-600">Mentor access</td>
                      <td className="px-4 py-3 text-center text-slate-400">-</td>
                      <td className="px-4 py-3 text-center"><Check className="mx-auto h-5 w-5 text-green-600" /></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </section>

          {/* FAQ Section */}
          <section className="bg-slate-50 px-4 py-16 md:px-6 md:py-24">
            <div className="mx-auto max-w-3xl">
              <h2 className="text-center text-2xl font-bold text-slate-900 md:text-3xl">
                Pertanyaan Umum
              </h2>
              <div className="mt-8 space-y-6">
                {faqs.map((faq) => (
                  <div key={faq.question}>
                    <h3 className="font-semibold text-slate-900">{faq.question}</h3>
                    <p className="mt-2 text-slate-600">{faq.answer}</p>
                  </div>
                ))}
              </div>
            </div>
          </section>

          {/* CTA Section */}
          <section className="bg-primary px-4 py-16 md:px-6 md:py-24">
            <div className="mx-auto max-w-3xl text-center">
              <h2 className="text-2xl font-bold text-white md:text-3xl">
                Siap Memulai Perjalanan Investasi Anda?
              </h2>
              <p className="mt-4 text-primary-foreground/80">
                Daftar sekarang dan dapatkan akses penuh ke semua resource.
              </p>
              <Button size="lg" variant="secondary" className="mt-8" asChild>
                <Link href="/signup">Daftar Sekarang - {MEMBERSHIP_PRICE_FORMATTED}/tahun</Link>
              </Button>
            </div>
          </section>
        </>
      )
    }
    ```

    Create directory if not exists:
    ```bash
    mkdir -p /Users/dio/Project/Stockus/frontend/src/app/pricing
    ```
  </action>
  <verify>
    Run dev server and check pricing page:
    ```bash
    cd /Users/dio/Project/Stockus/frontend
    npm run dev -- -p 3001
    ```
    1. Visit http://localhost:3001/pricing
    2. Verify hero section with "Investasi untuk Masa Depan Anda" headline
    3. Verify pricing card shows "Rp 2.500.000/tahun"
    4. Verify features section with 4 categories
    5. Verify comparison table (Gratis vs Member)
    6. Verify FAQ section
    7. Verify CTA section with "Daftar Sekarang" button
    8. View page source - should see JSON-LD with Product type
  </verify>
  <done>
    - Pricing page with hero, pricing card, features, comparison, FAQ, and CTA sections
    - Membership price displayed (Rp 2.500.000/tahun)
    - Features organized by category (Kursus, Research, Templates, Community)
    - Gratis vs Member comparison table
    - Product JSON-LD for rich search results
    - SEO metadata with price in description
    - Mobile responsive layout
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Research Page with API Integration</name>
  <files>
    frontend/src/components/shared/ResearchCard.tsx
    frontend/src/app/research/page.tsx
  </files>
  <action>
    1. Create frontend/src/components/shared/ResearchCard.tsx:
       ```typescript
       import Link from 'next/link'
       import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
       import { Badge } from '@/components/ui/badge'
       import { Lock } from 'lucide-react'
       import type { ResearchReport } from '@/types'

       interface ResearchCardProps {
         report: ResearchReport
       }

       export function ResearchCard({ report }: ResearchCardProps) {
         const isMemberOnly = report.requiredTier === 'member'
         const formattedDate = report.publishedAt
           ? new Date(report.publishedAt).toLocaleDateString('id-ID', {
               year: 'numeric',
               month: 'long',
               day: 'numeric',
             })
           : null

         return (
           <Card className="h-full transition-shadow hover:shadow-lg">
             <CardHeader>
               <div className="flex items-start justify-between gap-2">
                 <CardTitle className="line-clamp-2 text-lg">{report.title}</CardTitle>
                 {isMemberOnly ? (
                   <Badge variant="secondary" className="shrink-0">
                     <Lock className="mr-1 h-3 w-3" />
                     Member
                   </Badge>
                 ) : (
                   <Badge variant="outline" className="shrink-0">
                     Free
                   </Badge>
                 )}
               </div>
               {formattedDate && (
                 <p className="text-sm text-slate-500">{formattedDate}</p>
               )}
             </CardHeader>
             <CardContent>
               <p className="line-clamp-3 text-sm text-slate-600">{report.summary}</p>
               {isMemberOnly ? (
                 <Link
                   href="/pricing"
                   className="mt-4 inline-block text-sm font-medium text-primary hover:underline"
                 >
                   Unlock with Membership
                 </Link>
               ) : (
                 <Link
                   href={`/research/${report.slug}`}
                   className="mt-4 inline-block text-sm font-medium text-primary hover:underline"
                 >
                   Read Report
                 </Link>
               )}
             </CardContent>
           </Card>
         )
       }
       ```

    2. Create frontend/src/app/research/page.tsx:
       ```typescript
       import type { Metadata } from 'next'
       import Link from 'next/link'
       import { fetchAPI } from '@/lib/api'
       import { Button } from '@/components/ui/button'
       import { ResearchCard } from '@/components/shared/ResearchCard'
       import type { ResearchReport } from '@/types'

       export const metadata: Metadata = {
         title: 'Research',
         description: 'In-depth research reports on global companies. Analysis with proven frameworks for informed investment decisions.',
         openGraph: {
           title: 'Research | StockUs',
           description: 'In-depth research reports on global companies.',
         },
       }

       interface ResearchResponse {
         reports: ResearchReport[]
       }

       async function getResearchReports(): Promise<ResearchReport[]> {
         try {
           const data = await fetchAPI<ResearchResponse>('/research', {
             revalidate: 3600, // Revalidate every hour
           })
           return data.reports
         } catch (error) {
           console.error('Failed to fetch research reports:', error)
           return []
         }
       }

       export default async function ResearchPage() {
         const reports = await getResearchReports()

         const freeReports = reports.filter((r) => r.requiredTier === 'free')
         const memberReports = reports.filter((r) => r.requiredTier === 'member')

         return (
           <>
             {/* Hero Section */}
             <section className="bg-gradient-to-b from-slate-50 to-white px-4 py-16 md:px-6 md:py-24">
               <div className="mx-auto max-w-7xl text-center">
                 <h1 className="text-3xl font-bold tracking-tight text-slate-900 md:text-4xl lg:text-5xl">
                   Research Reports
                 </h1>
                 <p className="mx-auto mt-4 max-w-2xl text-lg text-slate-600">
                   Analisis mendalam perusahaan global dengan framework yang konsisten.
                   Setiap report dirancang untuk membantu Anda membuat keputusan investasi yang lebih baik.
                 </p>
               </div>
             </section>

             {/* Reports Section */}
             <section className="bg-white px-4 py-16 md:px-6 md:py-24">
               <div className="mx-auto max-w-7xl">
                 {reports.length > 0 ? (
                   <>
                     {/* Free Reports */}
                     {freeReports.length > 0 && (
                       <div className="mb-16">
                         <h2 className="text-xl font-bold text-slate-900 md:text-2xl">
                           Free Preview Reports
                         </h2>
                         <p className="mt-2 text-slate-600">
                           Coba baca beberapa report gratis untuk melihat kualitas analisis kami.
                         </p>
                         <div className="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
                           {freeReports.map((report) => (
                             <ResearchCard key={report.id} report={report} />
                           ))}
                         </div>
                       </div>
                     )}

                     {/* Member Reports */}
                     {memberReports.length > 0 && (
                       <div>
                         <h2 className="text-xl font-bold text-slate-900 md:text-2xl">
                           Member-Only Reports
                         </h2>
                         <p className="mt-2 text-slate-600">
                           Dapatkan akses penuh ke semua research reports dengan membership.
                         </p>
                         <div className="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
                           {memberReports.map((report) => (
                             <ResearchCard key={report.id} report={report} />
                           ))}
                         </div>
                       </div>
                     )}
                   </>
                 ) : (
                   <div className="rounded-lg border border-dashed border-slate-300 bg-slate-50 p-12 text-center">
                     <h2 className="text-xl font-semibold text-slate-900">
                       Research Reports Coming Soon
                     </h2>
                     <p className="mt-2 text-slate-600">
                       Kami sedang menyiapkan research reports berkualitas. Daftar untuk mendapat notifikasi.
                     </p>
                     <Button className="mt-6" asChild>
                       <Link href="/pricing">Get Notified</Link>
                     </Button>
                   </div>
                 )}
               </div>
             </section>

             {/* CTA Section */}
             <section className="bg-slate-50 px-4 py-16 md:px-6 md:py-24">
               <div className="mx-auto max-w-3xl text-center">
                 <h2 className="text-2xl font-bold text-slate-900 md:text-3xl">
                   Ingin Akses Semua Reports?
                 </h2>
                 <p className="mt-4 text-slate-600">
                   Dengan membership, Anda mendapat akses ke seluruh library research reports
                   plus kursus, templates, dan komunitas premium.
                 </p>
                 <Button size="lg" className="mt-8" asChild>
                   <Link href="/pricing">Lihat Pricing</Link>
                 </Button>
               </div>
             </section>
           </>
         )
       }
       ```

    3. Create directory if not exists:
       ```bash
       mkdir -p /Users/dio/Project/Stockus/frontend/src/app/research
       ```
  </action>
  <verify>
    Run dev server and check research page:
    ```bash
    cd /Users/dio/Project/Stockus/frontend
    npm run dev -- -p 3001
    ```
    1. Visit http://localhost:3001/research
    2. Verify hero section with "Research Reports" headline
    3. If backend running: verify reports display in cards with Free/Member badges
    4. If backend not running: verify "Coming Soon" empty state displays
    5. Verify CTA section at bottom
    6. Check mobile responsiveness
  </verify>
  <done>
    - Research page with hero, reports list, and CTA sections
    - ResearchCard component with title, summary, date, tier badge
    - Free reports show "Read Report" link
    - Member reports show lock icon and "Unlock with Membership" link
    - Reports organized by tier (Free Preview vs Member-Only)
    - Graceful empty state when no reports
    - API integration with error handling
    - SEO metadata with title and description
    - Mobile responsive layout
  </done>
</task>

</tasks>

<verification>
1. http://localhost:3001/pricing renders with correct price (Rp 2.500.000)
2. http://localhost:3001/research renders (with or without backend data)
3. Page source of /pricing contains JSON-LD with Product type
4. Research cards show correct badges (Free vs Member)
5. Navigation links work from header
6. Mobile responsive (test at 375px width)
7. `npm run build` completes without TypeScript errors
</verification>

<success_criteria>
- Pricing page shows membership price and all features
- Pricing page has Product JSON-LD for search results
- Pricing page has Gratis vs Member comparison table
- Research page fetches reports from API (or shows empty state)
- Research page displays Free and Member-only sections
- ResearchCard shows lock icon for member-only content
- Both pages have proper SEO metadata
- Both pages mobile responsive
</success_criteria>

<output>
After completion, create `.planning/phases/06-frontend-public-pages/06-04-SUMMARY.md`
</output>
