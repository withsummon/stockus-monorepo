---
phase: 06-frontend-public-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/package.json
  - frontend/src/app/layout.tsx
  - frontend/src/app/globals.css
  - frontend/src/lib/api.ts
  - frontend/src/lib/utils.ts
  - frontend/src/lib/constants.ts
  - frontend/src/types/index.ts
  - frontend/src/components/ui/*
  - frontend/src/components/layout/Header.tsx
  - frontend/src/components/layout/Footer.tsx
  - frontend/src/components/layout/MobileNav.tsx
  - frontend/tailwind.config.ts
  - frontend/next.config.ts
autonomous: true

must_haves:
  truths:
    - "Next.js app starts without errors on localhost:3001"
    - "Tailwind CSS styles apply correctly"
    - "shadcn/ui components render properly"
    - "Header appears on all pages with working navigation"
    - "Footer appears on all pages"
    - "Mobile navigation works on small screens"
  artifacts:
    - path: "frontend/package.json"
      provides: "Project dependencies"
      contains: "next"
    - path: "frontend/src/app/layout.tsx"
      provides: "Root layout with fonts, metadata"
      min_lines: 30
    - path: "frontend/src/lib/api.ts"
      provides: "API client for backend"
      exports: ["fetchAPI"]
    - path: "frontend/src/components/layout/Header.tsx"
      provides: "Site header with navigation"
      min_lines: 30
    - path: "frontend/src/components/layout/Footer.tsx"
      provides: "Site footer"
      min_lines: 20
  key_links:
    - from: "frontend/src/app/layout.tsx"
      to: "Header, Footer"
      via: "import and render"
      pattern: "import.*Header"
    - from: "frontend/src/lib/api.ts"
      to: "process.env.API_URL"
      via: "environment variable"
      pattern: "API_URL"
---

<objective>
Set up Next.js frontend with foundational components and layout

Purpose: Creates the base frontend infrastructure that all pages will use. This is the foundation for all public pages.
Output: Working Next.js app with shadcn/ui, Header, Footer, mobile navigation, and API client ready for page development.
</objective>

<execution_context>
@/Users/dio/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dio/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-frontend-public-pages/06-RESEARCH.md

# Backend API reference
Backend runs at localhost:3000 with these endpoints:
- GET /courses - list courses
- GET /research - list research reports
- GET /cohorts - list cohorts
- Auth endpoints at /auth/*
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js Project with shadcn/ui</name>
  <files>
    frontend/package.json
    frontend/src/app/layout.tsx
    frontend/src/app/page.tsx
    frontend/src/app/globals.css
    frontend/src/lib/utils.ts
    frontend/src/lib/api.ts
    frontend/src/lib/constants.ts
    frontend/src/types/index.ts
    frontend/tailwind.config.ts
    frontend/next.config.ts
    frontend/components.json
    frontend/.env.local
  </files>
  <action>
    1. Create Next.js 15 app in frontend/ directory:
       ```bash
       cd /Users/dio/Project/Stockus
       npx create-next-app@latest frontend --typescript --tailwind --eslint --app --src-dir --no-git --use-npm
       ```

    2. Initialize shadcn/ui (use default options, New York style):
       ```bash
       cd frontend
       npx shadcn@latest init -y
       ```

    3. Add commonly used shadcn/ui components:
       ```bash
       npx shadcn@latest add button card accordion badge separator sheet
       ```

    4. Create frontend/src/lib/api.ts with centralized API client:
       ```typescript
       const API_URL = process.env.API_URL || 'http://localhost:3000'

       export async function fetchAPI<T>(
         endpoint: string,
         options: RequestInit & { revalidate?: number } = {}
       ): Promise<T> {
         const { revalidate, ...fetchOptions } = options

         const res = await fetch(`${API_URL}${endpoint}`, {
           ...fetchOptions,
           next: revalidate !== undefined ? { revalidate } : undefined,
         })

         if (!res.ok) {
           throw new Error(`API Error: ${res.status} ${res.statusText}`)
         }

         return res.json()
       }
       ```

    5. Create frontend/src/lib/constants.ts with site metadata:
       ```typescript
       export const SITE_NAME = 'StockUs'
       export const SITE_DESCRIPTION = 'Learn structured approaches to global equity investing through cohort-based courses, research, and professional community.'
       export const SITE_URL = 'https://stockus.id'

       export const MEMBERSHIP_PRICE = 2500000 // IDR
       export const MEMBERSHIP_PRICE_FORMATTED = 'Rp 2.500.000'

       export const NAV_LINKS = [
         { href: '/courses', label: 'Courses' },
         { href: '/research', label: 'Research' },
         { href: '/community', label: 'Community' },
         { href: '/about', label: 'About' },
         { href: '/pricing', label: 'Pricing' },
       ]
       ```

    6. Create frontend/src/types/index.ts with TypeScript interfaces:
       ```typescript
       export interface Course {
         id: number
         title: string
         slug: string
         description: string
         thumbnailUrl: string | null
         isFreePreview: boolean
         createdAt: string
       }

       export interface ResearchReport {
         id: number
         title: string
         slug: string
         summary: string
         requiredTier: 'free' | 'member'
         publishedAt: string | null
       }

       export interface Cohort {
         id: number
         title: string
         description: string
         startDate: string
         endDate: string
         price: number
         maxParticipants: number
         enrolledCount: number
       }

       export interface TeamMember {
         name: string
         role: string
         bio: string
         imageUrl: string
       }
       ```

    7. Create frontend/.env.local:
       ```
       API_URL=http://localhost:3000
       NEXT_PUBLIC_SITE_URL=http://localhost:3001
       ```

    8. Update frontend/next.config.ts to allow backend images:
       ```typescript
       import type { NextConfig } from 'next'

       const nextConfig: NextConfig = {
         images: {
           remotePatterns: [
             {
               protocol: 'https',
               hostname: '*.r2.cloudflarestorage.com',
             },
           ],
         },
       }

       export default nextConfig
       ```

    9. Update frontend/src/app/layout.tsx with base metadata (keep simple, will be enhanced):
       ```typescript
       import type { Metadata } from 'next'
       import { Inter } from 'next/font/google'
       import './globals.css'

       const inter = Inter({ subsets: ['latin'] })

       export const metadata: Metadata = {
         title: {
           default: 'StockUs - Investment Education Platform',
           template: '%s | StockUs',
         },
         description: 'Learn structured approaches to global equity investing through cohort-based courses and research.',
       }

       export default function RootLayout({
         children,
       }: {
         children: React.ReactNode
       }) {
         return (
           <html lang="id">
             <body className={inter.className}>{children}</body>
           </html>
         )
       }
       ```

    10. Replace frontend/src/app/page.tsx with placeholder:
        ```typescript
        export default function HomePage() {
          return (
            <main className="flex min-h-screen flex-col items-center justify-center p-24">
              <h1 className="text-4xl font-bold">StockUs</h1>
              <p className="mt-4 text-lg text-slate-600">Coming soon...</p>
            </main>
          )
        }
        ```
  </action>
  <verify>
    Run from frontend directory:
    ```bash
    cd /Users/dio/Project/Stockus/frontend
    npm run dev -- -p 3001
    ```
    Visit http://localhost:3001 - should see "StockUs Coming soon..." with styled text.
    Check that Tailwind styles apply (text should be styled, not plain).
  </verify>
  <done>
    - Next.js app runs on localhost:3001
    - Tailwind CSS works (styled text visible)
    - shadcn/ui components installed (button, card, accordion, etc. in components/ui/)
    - API client, types, constants files exist
    - .env.local configured for backend at localhost:3000
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Layout Components (Header, Footer, Mobile Nav)</name>
  <files>
    frontend/src/components/layout/Header.tsx
    frontend/src/components/layout/Footer.tsx
    frontend/src/components/layout/MobileNav.tsx
    frontend/src/app/layout.tsx
  </files>
  <action>
    1. Create frontend/src/components/layout/Header.tsx:
       ```typescript
       import Link from 'next/link'
       import { NAV_LINKS, SITE_NAME } from '@/lib/constants'
       import { Button } from '@/components/ui/button'
       import { MobileNav } from './MobileNav'

       export function Header() {
         return (
           <header className="sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60">
             <div className="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 md:px-6">
               <Link href="/" className="flex items-center space-x-2">
                 <span className="text-xl font-bold text-slate-900">{SITE_NAME}</span>
               </Link>

               {/* Desktop Navigation */}
               <nav className="hidden md:flex md:items-center md:gap-6">
                 {NAV_LINKS.map((link) => (
                   <Link
                     key={link.href}
                     href={link.href}
                     className="text-sm font-medium text-slate-600 transition-colors hover:text-slate-900"
                   >
                     {link.label}
                   </Link>
                 ))}
               </nav>

               <div className="flex items-center gap-4">
                 <Button variant="ghost" size="sm" className="hidden md:inline-flex" asChild>
                   <Link href="/login">Masuk</Link>
                 </Button>
                 <Button size="sm" className="hidden md:inline-flex" asChild>
                   <Link href="/pricing">Daftar</Link>
                 </Button>

                 {/* Mobile Navigation */}
                 <MobileNav />
               </div>
             </div>
           </header>
         )
       }
       ```

    2. Create frontend/src/components/layout/MobileNav.tsx:
       ```typescript
       'use client'

       import { useState } from 'react'
       import Link from 'next/link'
       import { Menu } from 'lucide-react'
       import { Button } from '@/components/ui/button'
       import {
         Sheet,
         SheetContent,
         SheetHeader,
         SheetTitle,
         SheetTrigger,
       } from '@/components/ui/sheet'
       import { NAV_LINKS, SITE_NAME } from '@/lib/constants'

       export function MobileNav() {
         const [open, setOpen] = useState(false)

         return (
           <Sheet open={open} onOpenChange={setOpen}>
             <SheetTrigger asChild>
               <Button variant="ghost" size="icon" className="md:hidden">
                 <Menu className="h-5 w-5" />
                 <span className="sr-only">Toggle menu</span>
               </Button>
             </SheetTrigger>
             <SheetContent side="right" className="w-[300px] sm:w-[400px]">
               <SheetHeader>
                 <SheetTitle>{SITE_NAME}</SheetTitle>
               </SheetHeader>
               <nav className="mt-8 flex flex-col gap-4">
                 {NAV_LINKS.map((link) => (
                   <Link
                     key={link.href}
                     href={link.href}
                     onClick={() => setOpen(false)}
                     className="text-lg font-medium text-slate-600 transition-colors hover:text-slate-900"
                   >
                     {link.label}
                   </Link>
                 ))}
                 <div className="mt-4 flex flex-col gap-2">
                   <Button variant="outline" asChild>
                     <Link href="/login" onClick={() => setOpen(false)}>Masuk</Link>
                   </Button>
                   <Button asChild>
                     <Link href="/pricing" onClick={() => setOpen(false)}>Daftar</Link>
                   </Button>
                 </div>
               </nav>
             </SheetContent>
           </Sheet>
         )
       }
       ```

    3. Create frontend/src/components/layout/Footer.tsx:
       ```typescript
       import Link from 'next/link'
       import { SITE_NAME } from '@/lib/constants'

       const footerLinks = {
         product: [
           { href: '/courses', label: 'Courses' },
           { href: '/research', label: 'Research' },
           { href: '/pricing', label: 'Pricing' },
         ],
         company: [
           { href: '/about', label: 'About Us' },
           { href: '/community', label: 'Community' },
         ],
         legal: [
           { href: '/privacy', label: 'Privacy Policy' },
           { href: '/terms', label: 'Terms of Service' },
         ],
       }

       export function Footer() {
         return (
           <footer className="border-t bg-slate-50">
             <div className="mx-auto max-w-7xl px-4 py-12 md:px-6">
               <div className="grid grid-cols-2 gap-8 md:grid-cols-4">
                 <div className="col-span-2 md:col-span-1">
                   <Link href="/" className="text-xl font-bold text-slate-900">
                     {SITE_NAME}
                   </Link>
                   <p className="mt-4 text-sm text-slate-600">
                     Platform edukasi investasi untuk investor Indonesia.
                   </p>
                 </div>

                 <div>
                   <h3 className="font-semibold text-slate-900">Product</h3>
                   <ul className="mt-4 space-y-2">
                     {footerLinks.product.map((link) => (
                       <li key={link.href}>
                         <Link
                           href={link.href}
                           className="text-sm text-slate-600 hover:text-slate-900"
                         >
                           {link.label}
                         </Link>
                       </li>
                     ))}
                   </ul>
                 </div>

                 <div>
                   <h3 className="font-semibold text-slate-900">Company</h3>
                   <ul className="mt-4 space-y-2">
                     {footerLinks.company.map((link) => (
                       <li key={link.href}>
                         <Link
                           href={link.href}
                           className="text-sm text-slate-600 hover:text-slate-900"
                         >
                           {link.label}
                         </Link>
                       </li>
                     ))}
                   </ul>
                 </div>

                 <div>
                   <h3 className="font-semibold text-slate-900">Legal</h3>
                   <ul className="mt-4 space-y-2">
                     {footerLinks.legal.map((link) => (
                       <li key={link.href}>
                         <Link
                           href={link.href}
                           className="text-sm text-slate-600 hover:text-slate-900"
                         >
                           {link.label}
                         </Link>
                       </li>
                     ))}
                   </ul>
                 </div>
               </div>

               <div className="mt-12 border-t pt-8">
                 <p className="text-center text-sm text-slate-600">
                   &copy; {new Date().getFullYear()} {SITE_NAME}. All rights reserved.
                 </p>
               </div>
             </div>
           </footer>
         )
       }
       ```

    4. Update frontend/src/app/layout.tsx to include Header and Footer:
       ```typescript
       import type { Metadata } from 'next'
       import { Inter } from 'next/font/google'
       import './globals.css'
       import { Header } from '@/components/layout/Header'
       import { Footer } from '@/components/layout/Footer'
       import { SITE_NAME, SITE_DESCRIPTION, SITE_URL } from '@/lib/constants'

       const inter = Inter({ subsets: ['latin'] })

       export const metadata: Metadata = {
         metadataBase: new URL(SITE_URL),
         title: {
           default: `${SITE_NAME} - Investment Education Platform`,
           template: `%s | ${SITE_NAME}`,
         },
         description: SITE_DESCRIPTION,
         openGraph: {
           type: 'website',
           locale: 'id_ID',
           url: SITE_URL,
           siteName: SITE_NAME,
           images: [
             {
               url: '/og/default.png',
               width: 1200,
               height: 630,
               alt: `${SITE_NAME} - Investment Education Platform`,
             },
           ],
         },
         twitter: {
           card: 'summary_large_image',
           title: `${SITE_NAME} - Investment Education Platform`,
           description: SITE_DESCRIPTION,
         },
         robots: {
           index: true,
           follow: true,
         },
       }

       export default function RootLayout({
         children,
       }: {
         children: React.ReactNode
       }) {
         return (
           <html lang="id">
             <body className={inter.className}>
               <div className="flex min-h-screen flex-col">
                 <Header />
                 <main className="flex-1">{children}</main>
                 <Footer />
               </div>
             </body>
           </html>
         )
       }
       ```

    5. Install lucide-react for icons (used in MobileNav):
       ```bash
       cd /Users/dio/Project/Stockus/frontend
       npm install lucide-react
       ```
  </action>
  <verify>
    Run dev server and check:
    ```bash
    cd /Users/dio/Project/Stockus/frontend
    npm run dev -- -p 3001
    ```
    1. Visit http://localhost:3001
    2. Verify Header appears at top with navigation links
    3. Verify Footer appears at bottom with links
    4. Resize browser to mobile width (<768px)
    5. Verify hamburger menu appears and opens side drawer
    6. Click navigation links in mobile drawer - should close drawer
  </verify>
  <done>
    - Header component with desktop navigation and logo
    - Footer component with link sections
    - MobileNav component with slide-out drawer (Sheet)
    - Layout.tsx imports and renders Header + Footer
    - Mobile responsive: hamburger menu at <768px, full nav at larger screens
    - Navigation links all present (Courses, Research, Community, About, Pricing)
    - Login/Daftar buttons in both desktop and mobile views
  </done>
</task>

</tasks>

<verification>
1. `npm run dev -- -p 3001` runs without errors
2. All navigation links visible and clickable
3. Mobile navigation drawer opens/closes properly
4. Tailwind styles apply (check font, colors, spacing)
5. TypeScript compiles without errors: `npm run build`
</verification>

<success_criteria>
- Next.js 15 app running on localhost:3001
- shadcn/ui components available (button, card, accordion, badge, separator, sheet)
- API client ready for backend calls
- TypeScript types defined for Course, ResearchReport, Cohort
- Header with responsive navigation
- Footer with site links
- Mobile drawer navigation working
- Base SEO metadata configured in layout
</success_criteria>

<output>
After completion, create `.planning/phases/06-frontend-public-pages/06-01-SUMMARY.md`
</output>
