---
phase: 08-admin-dashboard
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/package.json
  - frontend/src/components/ui/table.tsx
  - frontend/src/components/ui/select.tsx
  - frontend/src/components/ui/form.tsx
  - frontend/src/components/ui/textarea.tsx
  - frontend/src/components/ui/checkbox.tsx
  - frontend/src/components/ui/dropdown-menu.tsx
  - frontend/src/components/admin/DataTable.tsx
autonomous: true

must_haves:
  truths:
    - "TanStack Table and React Hook Form are installed"
    - "shadcn/ui table components are available"
    - "Reusable DataTable component renders with sorting and pagination"
  artifacts:
    - path: "frontend/src/components/admin/DataTable.tsx"
      provides: "Reusable data table with TanStack Table"
      contains: "useReactTable"
    - path: "frontend/src/components/ui/table.tsx"
      provides: "Base table UI components"
      contains: "TableHeader"
    - path: "frontend/src/components/ui/form.tsx"
      provides: "Form components for React Hook Form"
      contains: "FormField"
  key_links:
    - from: "frontend/src/components/admin/DataTable.tsx"
      to: "@tanstack/react-table"
      via: "import"
      pattern: "from '@tanstack/react-table'"
    - from: "frontend/src/components/ui/form.tsx"
      to: "react-hook-form"
      via: "import"
      pattern: "from 'react-hook-form'"
---

<objective>
Install data table dependencies and create reusable DataTable component with shadcn/ui components.

Purpose: Provides the foundation for all content management tables (courses, research, templates, users, orders). Following shadcn/ui patterns ensures consistency.

Output:
- TanStack Table, React Hook Form, Zod installed
- shadcn/ui components: table, select, form, textarea, checkbox, dropdown-menu
- Reusable DataTable component
</objective>

<execution_context>
@/Users/dio/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dio/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/08-admin-dashboard/08-RESEARCH.md

# Existing shadcn/ui components pattern:
@frontend/src/components/ui/button.tsx
@frontend/src/components/ui/card.tsx
@frontend/src/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install dependencies</name>
  <files>
    frontend/package.json
  </files>
  <action>
Run in frontend directory:

```bash
cd frontend
pnpm add @tanstack/react-table
pnpm add react-hook-form @hookform/resolvers
pnpm add zod
pnpm add date-fns
```

These libraries provide:
- @tanstack/react-table: Headless table state management
- react-hook-form + @hookform/resolvers: Form state with Zod integration
- zod: Schema validation (also used by backend)
- date-fns: Date formatting for tables

Note: Do NOT install recharts yet - can use simple number displays for metrics initially. Add charts in future iteration if needed.
  </action>
  <verify>
pnpm install succeeds. Dependencies appear in package.json.
  </verify>
  <done>
All required libraries installed: @tanstack/react-table, react-hook-form, @hookform/resolvers, zod, date-fns
  </done>
</task>

<task type="auto">
  <name>Task 2: Add shadcn/ui components</name>
  <files>
    frontend/src/components/ui/table.tsx
    frontend/src/components/ui/select.tsx
    frontend/src/components/ui/form.tsx
    frontend/src/components/ui/textarea.tsx
    frontend/src/components/ui/checkbox.tsx
    frontend/src/components/ui/dropdown-menu.tsx
  </files>
  <action>
Create shadcn/ui components manually (project doesn't use CLI init). Follow existing patterns in components/ui/.

1. table.tsx - Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption
   Source: https://ui.shadcn.com/docs/components/table
   - Use cn() from @/lib/utils
   - Export all table primitives
   - Style with Tailwind: border, muted backgrounds for header, hover states

2. select.tsx - Based on @radix-ui/react-select
   Run: cd frontend && pnpm add @radix-ui/react-select
   Source: https://ui.shadcn.com/docs/components/select
   - SelectRoot, SelectTrigger, SelectContent, SelectItem, SelectValue
   - Include chevron icons from lucide-react

3. form.tsx - Form context for react-hook-form
   Source: https://ui.shadcn.com/docs/components/form
   - FormProvider wrapper
   - FormField with Controller
   - FormItem, FormLabel, FormControl, FormDescription, FormMessage
   - Uses useFormContext from react-hook-form

4. textarea.tsx - Styled textarea
   Source: https://ui.shadcn.com/docs/components/textarea
   - Simple forwardRef component
   - Style matching input.tsx

5. checkbox.tsx - Based on @radix-ui/react-checkbox
   Run: cd frontend && pnpm add @radix-ui/react-checkbox
   Source: https://ui.shadcn.com/docs/components/checkbox
   - Checkbox with check indicator
   - Style with primary color

6. dropdown-menu.tsx - Based on @radix-ui/react-dropdown-menu
   Run: cd frontend && pnpm add @radix-ui/react-dropdown-menu
   Source: https://ui.shadcn.com/docs/components/dropdown-menu
   - DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem
   - DropdownMenuSeparator, DropdownMenuLabel
   - For table row action menus
  </action>
  <verify>
All component files exist and TypeScript compiles without errors.
  </verify>
  <done>
shadcn/ui table, select, form, textarea, checkbox, dropdown-menu components created following official patterns.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create reusable DataTable component</name>
  <files>
    frontend/src/components/admin/DataTable.tsx
  </files>
  <action>
Create frontend/src/components/admin/DataTable.tsx:

```typescript
'use client'

import {
  ColumnDef,
  ColumnFiltersState,
  SortingState,
  flexRender,
  getCoreRowModel,
  getFilteredRowModel,
  getPaginationRowModel,
  getSortedRowModel,
  useReactTable,
} from '@tanstack/react-table'
import { useState } from 'react'
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'

interface DataTableProps<TData, TValue> {
  columns: ColumnDef<TData, TValue>[]
  data: TData[]
  searchKey?: string
  searchPlaceholder?: string
}

export function DataTable<TData, TValue>({
  columns,
  data,
  searchKey,
  searchPlaceholder = 'Search...',
}: DataTableProps<TData, TValue>) {
  // State management...
  // Table configuration with sorting, filtering, pagination
  // Render table with header, body, pagination controls
}
```

Features:
- Generic type support for any data shape
- Client-side sorting (click column headers)
- Client-side filtering (optional search input)
- Pagination with Previous/Next buttons
- Empty state handling
- Row count display

Follow the exact pattern from RESEARCH.md Code Examples section.
  </action>
  <verify>
Component renders with test data. TypeScript types are correct. Sorting and pagination work.
  </verify>
  <done>
DataTable component accepts columns and data props, renders sortable/filterable/paginated table.
  </done>
</task>

</tasks>

<verification>
1. All dependencies installed in package.json
2. shadcn/ui components exist in components/ui/
3. DataTable component compiles and exports correctly
4. pnpm build succeeds in frontend
</verification>

<success_criteria>
- @tanstack/react-table, react-hook-form, zod, date-fns installed
- Table, Select, Form, Textarea, Checkbox, DropdownMenu UI components exist
- DataTable component is reusable with generic types
- All components follow shadcn/ui patterns with cn() utility
</success_criteria>

<output>
After completion, create `.planning/phases/08-admin-dashboard/08-02-SUMMARY.md`
</output>
